# Wasmer configuration file
# This configures how Wasmer builds and deploys your application

[package]
name = "fee-admin"
version = "1.0.0"
description = "Multi-Tenant School Management SaaS"

[dependencies]
php = "8.4"

[php]
# Explicitly list ONLY MySQL extensions - this prevents Shipit from detecting PostgreSQL
extensions = ["pdo_mysql", "mbstring", "exif", "pcntl", "bcmath", "gd", "zip", "intl"]

[build]
# Build command
build-command = "composer install --optimize-autoloader --no-dev --no-scripts && npm ci && npm run build"

# Start command  
start-command = "php artisan serve --host=0.0.0.0 --port=8080"

# Database: Use MySQL ONLY - pdo_mysql is included in PHP by default
# PostgreSQL extensions are NOT needed and will cause build failures
